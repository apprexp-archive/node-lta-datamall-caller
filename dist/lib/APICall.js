"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var rp=require("request-promise-native"),url_1=require("url"),APICall=function(){function e(e){var t,r=e.apiAccountKey,a=e.apiDataset,s=e.apiResponseFormat,n=void 0===s?"json":s,i=e.apiParams,o=this;this._apiBaseURL=new url_1.URL("http://datamall2.mytransport.sg/ltaodataservice/").href,this._apiDatasetURL=new url_1.URL(a,this._apiBaseURL).href,-1<["json","atom+xml","xml"].indexOf(n)?(t="application/","xml"==n&&(t+="atom+"),t+=n):t=n;var p={url:this._apiDatasetURL,headers:{AccountKey:r,accept:t},qs:i,json:!!t};rp(p).then(function(e){o._response=e}).catch(function(e){throw new Error(e)}),this._response=rp(p)}return Object.defineProperty(e.prototype,"response",{get:function(){return this._response},enumerable:!0,configurable:!0}),e}();exports.default=APICall;
//# sourceMappingURL=APICall.js.map
